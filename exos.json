{
  "variables": {
      "root_user": "admin",
      "root_pass": "",
      "ssh_vagrant_user": "vagrant",
      "ssh_vagrant_pass": "vagrant",
      "vagrant_insecure_public_key": "AAAAB3NzaC1yc2EAAAABIwAAAQEA6NF8iallvQVp22WDkTkyrtvp9eWW6A8YVr+kz4TjGYe7gHzIw+niNltGEFHzD8+v1I2YJ6oXevct1YeS0o9HZyN1Q9qgCgzUFtdOKLv6IedplqoPkcmF0aYet2PkEDo3MlTBckFXPITAMzF8dJSIFo9D8HfdOV0IAdx4O7PtixWKn5y2hMNG0zQPyUecp4pzC6kivAIhyfHilFR61RGL+GPXQ2MWZWFYbAGjyiYJnAmCP3NOTd0jMZEnDkbUvxhMmBYSdETk1rRgm+R4LOzFUGaHqHDLKLX+FIPKcF96hrucXzcWyLbIbEgE98OHlnVYCzRdK8jlqm8tehUc9c9WhQ=="
  },
  "builders": [{
    "type": "virtualbox-iso",
    "guest_os_type": "Linux_64",
    "iso_url": "{{user `iso_url`}}",
    "iso_checksum_url": "{{user `iso_checksum_url`}}",
    "iso_checksum_type": "{{user `iso_checksum_type`}}",
    "ssh_username": "{{user `ssh_vagrant_user`}}",
    "ssh_password": "{{user `ssh_vagrant_pass`}}",
    "headless": true,
    "keep_registered": false,
    "guest_additions_mode": "disable",
    "disk_size": "4096",
    "virtualbox_version_file": "",
    "boot_command": [
      "c<enter>y<enter>",
      "<wait1m>",
      "<enter>",
      "<wait1m>",
      "{{ user `root_user` }}<enter>{{ user `root_pass` }}<enter>",
      "q<enter>",
      "vi default.xsf<enter>i",
      "disable idletimeout<enter>",
      "configure vlan default delete ports all<enter>",
      "enable dhcp vlan Mgmt<enter>",
      "create account admin {{ user `ssh_vagrant_user` }} {{ user `ssh_vagrant_pass` }}<enter>",
      "enable ssh2<enter>",
      "create sshd2 user-key {{ user `ssh_vagrant_user` }} {{ user `vagrant_insecure_public_key` }}<enter>",
      "configure sshd2 user-key {{ user `ssh_vagrant_user` }} add user {{ user `ssh_vagrant_user` }}<enter>",
      "<esc>:wq<enter>",
      "<wait15>",
      "run script default.xsf<enter><wait2m>",
      "save config<enter>y<enter><wait15>"
    ],
    "ssh_skip_nat_mapping": false,
    "vboxmanage":[
      ["modifyvm", "{{.Name}}", "--memory", "1024"]
    ],
    "vboxmanage_post":[
      ["modifyvm", "{{.Name}}", "--nic1", "bridged"],
      ["modifyvm", "{{.Name}}", "--bridgeadapter1", "en0"]
    ]
  }],
  "post-processors": [{
    "type": "vagrant",
    "output": "package.box",
    "keep_input_artifact": false,
    "vagrantfile_template": "_Vagrantfile"
  }]
}
